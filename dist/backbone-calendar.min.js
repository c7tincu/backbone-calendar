define("models/main",["require","exports","module","backbone"],function(e){var t,n,i=e("backbone");return n=function(){_.bindAll(this)},t=i.Model.extend({initialize:n})}),define("nls/i18n",{root:{head:{now:"Now",prev:"◂",next:"▸"},views:{day:{title:"Day"},agendaDay:{title:"Day"},week:{title:"Week"},agendaWeek:{title:"Week"},month:{title:"Month"},year:{title:"Year"},timeline:{title:"Timeline"}},monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}}),define("views/basic",["require","exports","module","backbone","i18n!nls/i18n"],function(e){var t=e("backbone");e("i18n!nls/i18n");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(){},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/basic-day",["require","exports","module","backbone","views/basic","i18n!nls/i18n"],function(e){e("backbone");var t=e("views/basic");e("i18n!nls/i18n");var n,i,s,a;return i=function(e){t.prototype.initialize.call(this,e)},s=function(){return t.prototype.render.call(this)},a=function(e){return t.prototype.remove.call(this,e)},n=t.extend({initialize:i,render:s,remove:a})}),define("views/agenda",["require","exports","module","backbone","i18n!nls/i18n"],function(e){var t=e("backbone");e("i18n!nls/i18n");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(){},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/agenda-day",["require","exports","module","backbone","views/agenda","i18n!nls/i18n"],function(e){e("backbone");var t=e("views/agenda");e("i18n!nls/i18n");var n,i,s,a;return i=function(e){t.prototype.initialize.call(this,e)},s=function(){return t.prototype.render.call(this)},a=function(e){return t.prototype.remove.call(this,e)},n=t.extend({initialize:i,render:s,remove:a})}),define("views/basic-week",["require","exports","module","backbone","views/basic","i18n!nls/i18n"],function(e){e("backbone");var t=e("views/basic");e("i18n!nls/i18n");var n,i,s,a;return i=function(e){t.prototype.initialize.call(this,e)},s=function(){return t.prototype.render.call(this)},a=function(e){return t.prototype.remove.call(this,e)},n=t.extend({initialize:i,render:s,remove:a})}),define("views/agenda-week",["require","exports","module","backbone","views/agenda","i18n!nls/i18n"],function(e){e("backbone");var t=e("views/agenda");e("i18n!nls/i18n");var n,i,s,a;return i=function(e){t.prototype.initialize.call(this,e)},s=function(){return t.prototype.render.call(this)},a=function(e){return t.prototype.remove.call(this,e)},n=t.extend({initialize:i,render:s,remove:a})}),define("views/month",["require","exports","module","backbone","i18n!nls/i18n"],function(e){var t,n,i,s,a,r,o=e("backbone"),l=e("i18n!nls/i18n");return n=function(){_.bindAll(this)},i=function(){return this.delegateEvents(),this},s=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},a={},r=function(e){return l.monthNames[e.getUtcMonth()]+" "+e.getUtcYear()},t=o.View.extend({initialize:n,render:i,remove:s,events:a,formatTitle:r})}),define("views/year",["require","exports","module","backbone","i18n!nls/i18n"],function(e){var t=e("backbone");e("i18n!nls/i18n");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(e){return e.getUtcYear()},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/timeline",["require","exports","module","tau-js","backbone","i18n!nls/i18n"],function(e){var t,n,i,s,a,r,o=e("tau-js"),l=e("backbone"),c=e("i18n!nls/i18n");return n=function(){_.bindAll(this)},i=function(){return this.delegateEvents(),this},s=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},a={},r=function(e){var t,n,i,s=e.getUtcYear(),a=e.getUtcMonth();return t=(new o).setUtcYear(s).setUtcMonth(a+this.config.length-1),n=t.getUtcYear(),i=t.getUtcMonth(),c.monthNames[a]+" "+(s===n?"":s+" ")+"&ndash; "+c.monthNames[i]+" "+n},t=l.View.extend({config:{length:3},initialize:n,render:i,remove:s,events:a,formatTitle:r})}),define("views/head",["require","exports","module","backbone","views/basic-day","views/agenda-day","views/basic-week","views/agenda-week","views/month","views/year","views/timeline","i18n!nls/i18n"],function(e){var t,n,i,s,a,r,o,l=e("backbone"),c=e("views/basic-day"),d=e("views/agenda-day"),u=e("views/basic-week"),h=e("views/agenda-week"),b=e("views/month"),v=e("views/year"),f=e("views/timeline"),p=e("i18n!nls/i18n");return n=function(e){_.bindAll(this),e||(e={}),_.each(["left","center","right"],function(t){this.config[t]=e[t]},this)},i=function(){return _.each(["left","center","right"],function(e){var t,n;this.$el.append($("<div>").addClass("bc-"+e+" js-bc-"+e)),t=this.$el.find(".js-bc-"+e),_.each(this.config[e],function(e){switch(e){case"title":t.append($("<span>").addClass("bc-title js-bc-title").html(this.config.viewNameToClass[this.model.get("currentView")].prototype.formatTitle(this.model.get("currentTau"))));break;case"now":t.append($("<button>").addClass("bc-now js-bc-now").html(p.head.now));break;case"prev":t.append($("<button>").addClass("bc-prev js-bc-prev").html(p.head.prev));break;case"next":t.append($("<button>").addClass("bc-next js-bc-next").html(p.head.next));break;case"sep":t.append($("<span>").addClass("bc-sep js-bc-sep"))}_.has(p.views,e)&&t.append($("<button>").addClass("bc-"+e+" js-bc-"+e+(this.model.get("currentView")===e?" bc-selected js-bc-selected":"")).html(p.views[e].title))},this),n=t.find("span, button"),n.length>1&&_.each(n,function(e){var t=$(e);t.is("button")&&(t.prev().is("button")&&t.addClass("bc-adjacent-left"),t.next().is("button")&&t.addClass("bc-adjacent-right"))})},this),this.listenTo(this.model,"change:currentView",this.onModelChangeCurrentView),this.delegateEvents(),this},s=function(e){return this.$el.html(""),e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},a=function(e,t){this.$el.find(".js-bc-selected").removeClass("bc-selected js-bc-selected"),this.$el.find(".js-bc-"+t).addClass("bc-selected js-bc-selected")},r=function(e){var t=$(e.target);t.hasClass("js-bc-selected")||t.hasClass("js-bc-now")||t.hasClass("js-bc-prev")||t.hasClass("js-bc-next")||_.each(_.keys(p.views),function(e){t.hasClass("js-bc-"+e)&&this.model.set({currentView:e})},this)},o={"click button":"onClickButton"},t=l.View.extend({config:{viewNameToClass:{day:c,agendaDay:d,week:u,agendaWeek:h,month:b,year:v,timeline:f}},initialize:n,render:i,remove:s,onModelChangeCurrentView:a,onClickButton:r,events:o})}),define("defaults",["require","exports","module"],function(){var e;return e={header:{left:["day","week","month"],center:["title"],right:["now","sep","prev","next"]},defaultView:"month"}}),define("backbone-calendar",["require","exports","module","tau-js","backbone","models/main","views/head","i18n!nls/i18n","defaults"],function(e){var t=e("tau-js"),n=e("backbone"),i=e("models/main"),s=e("views/head");e("i18n!nls/i18n");var a,r,o,l,c,d=e("defaults");r=function(e){var n;_.bindAll(this),e||(e={}),n=e.now||function(e){return(new t).setUtcYear(e.getUTCFullYear()).setUtcMonth(e.getUTCMonth()).setUtcDate(e.getUTCDate()).setUtcHours(e.getUTCHours()).setUtcMinutes(e.getUTCMinutes()).setUtcSeconds(e.getUTCSeconds()).setUtcMilliseconds(e.getUTCMilliseconds())}(new Date),this.model=new i({now:n,currentTau:n,currentView:e.defaultView||d.defaultView}),e.header!==!1&&(this.config.header=e.header||d.header)},o=function(){return this.$el.addClass("bc js-bc").append($("<div>").addClass("bc-head js-bc-head")).append($("<div>").addClass("bc-body js-bc-body")).append($("<div>").addClass("bc-foot js-bc-foot")),this.config.header&&(this.headView=new s(_.extend(this.config.header,{el:this.$el.find(".js-bc-head"),model:this.model})).render()),this.delegateEvents(),this},l=function(e){return this.headView&&(this.headView.remove(),this.headView=null),this.$el.html("").removeClass("bc js-bc"),e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},c={},a=n.View.extend({config:{},model:null,headView:null,initialize:r,render:o,remove:l,events:c}),n.Calendar=a});
//@ sourceMappingURL=backbone-calendar.map.js