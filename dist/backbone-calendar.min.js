define("models/main",["require","exports","module","backbone"],function(e){var t,n,i=e("backbone");return n=function(){_.bindAll(this)},t=i.Model.extend({initialize:n})}),define("nls/i18n",{root:{head:{now:"Now",prev:"◂",next:"▸"},views:{day:{title:"Day"},agendaDay:{title:"Day"},week:{title:"Week"},agendaWeek:{title:"Week"},month:{title:"Month"},year:{title:"Year"},timeline:{title:"Timeline"}},monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}}),define("tau",["require","exports","module"],function(){var e,t,n,i,s,a,r,o,d,l,u,c;return t=function(e){return(10>e?"0":"")+e},n=function(e){var t=e.getTimezoneOffset()/60;return e.getFullYear()+"-"+this.pad(e.getMonth()+1)+"-"+this.pad(e.getDate())+"T"+this.pad(e.getHours())+":"+this.pad(e.getMinutes())+":"+this.pad(e.getSeconds())+"."+(""+(e.getMilliseconds()/1e3).toFixed(3)).slice(2,5)+(0===t?"Z":(t>0?"-"+this.pad(t):"+"+this.pad(-t))+":00")},i=function(e){return+e.slice(0,4)},s=function(e){return+e.slice(5,7)-1},a=function(e){return+e.slice(8,10)},r=function(e){return+e.slice(11,13)},o=function(e){return+e.slice(14,16)},d=function(e){return+e.slice(17,19)},l=function(e){return+e.slice(20,23)},u=function(e){return 29===e.length},c=function(e){return this.doesDstrHaveOffset(e)?-e.slice(23,26):0},e={pad:t,dateToDstr:n,dstrFullYear:i,dstrMonth:s,dstrDate:a,dstrHours:r,dstrMinutes:o,dstrSeconds:d,dstrMilliseconds:l,doesDstrHaveOffset:u,dstrOffset:c}}),define("views/basic-day",["require","exports","module","backbone","i18n!nls/i18n","tau"],function(e){var t=e("backbone");e("i18n!nls/i18n"),e("tau");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(){},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/agenda-day",["require","exports","module","backbone","i18n!nls/i18n","tau"],function(e){var t=e("backbone");e("i18n!nls/i18n"),e("tau");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(){},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/basic-week",["require","exports","module","backbone","i18n!nls/i18n","tau"],function(e){var t=e("backbone");e("i18n!nls/i18n"),e("tau");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(){},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/agenda-week",["require","exports","module","backbone","i18n!nls/i18n","tau"],function(e){var t=e("backbone");e("i18n!nls/i18n"),e("tau");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(){},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/month",["require","exports","module","backbone","i18n!nls/i18n","tau"],function(e){var t,n,i,s,a,r,o=e("backbone"),d=e("i18n!nls/i18n"),l=e("tau");return n=function(){_.bindAll(this)},i=function(){return this.delegateEvents(),this},s=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},a={},r=function(e){return d.monthNames[l.dstrMonth(e)]+" "+l.dstrFullYear(e)},t=o.View.extend({initialize:n,render:i,remove:s,events:a,formatTitle:r})}),define("views/year",["require","exports","module","backbone","i18n!nls/i18n","tau"],function(e){var t=e("backbone");e("i18n!nls/i18n");var n,i,s,a,r,o,d=e("tau");return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(e){return d.dstrFullYear(e)},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/timeline",["require","exports","module","backbone","i18n!nls/i18n","tau"],function(e){var t=e("backbone");e("i18n!nls/i18n"),e("tau");var n,i,s,a,r,o;return i=function(){_.bindAll(this)},s=function(){return this.delegateEvents(),this},a=function(e){return e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},r={},o=function(){},n=t.View.extend({initialize:i,render:s,remove:a,events:r,formatTitle:o})}),define("views/head",["require","exports","module","backbone","views/basic-day","views/agenda-day","views/basic-week","views/agenda-week","views/month","views/year","views/timeline","i18n!nls/i18n"],function(e){var t,n,i,s,a,r,o,d=e("backbone"),l=e("views/basic-day"),u=e("views/agenda-day"),c=e("views/basic-week"),h=e("views/agenda-week"),f=e("views/month"),b=e("views/year"),v=e("views/timeline"),m=e("i18n!nls/i18n");return n=function(e){_.bindAll(this),e||(e={}),_.each(["left","center","right"],function(t){this.config[t]=e[t]},this)},i=function(){return _.each(["left","center","right"],function(e){var t,n,i,s,a,r;for(this.$el.append($("<div>").addClass("bc-"+e+" js-bc-"+e)),t=this.$el.find(".js-bc-"+e),n=0,i=this.config[e].length;i>n;++n){switch(s=this.config[e][n]){case"title":t.append($("<span>").addClass("bc-title js-bc-title").html(this.config.viewNameToClass[this.model.get("currentView")].prototype.formatTitle(this.model.get("currentDstr"))));break;case"now":t.append($("<button>").addClass("bc-now js-bc-now").html(m.head.now));break;case"prev":t.append($("<button>").addClass("bc-prev js-bc-prev").html(m.head.prev));break;case"next":t.append($("<button>").addClass("bc-next js-bc-next").html(m.head.next));break;case"sep":t.append($("<span>").addClass("bc-sep js-bc-sep"))}_.has(m.views,s)&&t.append($("<button>").addClass("bc-"+s+" js-bc-"+s+(this.model.get("currentView")===s?" bc-selected js-bc-selected":"")).html(m.views[s].title))}if(a=t.find("span, button"),i=a.length,i>1)for(n=0;i>n;++n)r=$(a[n]),r.is("button")&&(r.prev().is("button")&&r.addClass("bc-adjacent-left"),r.next().is("button")&&r.addClass("bc-adjacent-right"))},this),this.listenTo(this.model,"change:currentView",this.onModelChangeCurrentView),this.delegateEvents(),this},s=function(e){return this.$el.html(""),e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},a=function(e,t){this.$el.find(".js-bc-selected").removeClass("bc-selected js-bc-selected"),this.$el.find(".js-bc-"+t).addClass("bc-selected js-bc-selected")},r=function(e){var t=$(e.target);t.hasClass("js-bc-selected")||t.hasClass("js-bc-now")||t.hasClass("js-bc-prev")||t.hasClass("js-bc-next")||_.each(_.keys(m.views),function(e){t.hasClass("js-bc-"+e)&&this.model.set({currentView:e})},this)},o={"click button":"onClickButton"},t=d.View.extend({config:{viewNameToClass:{day:l,agendaDay:u,week:c,agendaWeek:h,month:f,year:b,timeline:v}},initialize:n,render:i,remove:s,onModelChangeCurrentView:a,onClickButton:r,events:o})}),define("defaults",["require","exports","module"],function(){var e;return e={header:{left:["day","week","month"],center:["title"],right:["now","sep","prev","next"]},defaultView:"month"}}),define("backbone-calendar",["require","exports","module","backbone","models/main","views/head","i18n!nls/i18n","defaults","tau"],function(e){var t=e("backbone"),n=e("models/main"),i=e("views/head");e("i18n!nls/i18n");var s,a,r,o,d,l=e("defaults"),u=e("tau");a=function(e){var t;_.bindAll(this),e||(e={}),t=e.now||u.dateToDstr(new Date),this.model=new n({now:t,currentDstr:t,currentView:e.defaultView||l.defaultView}),e.header!==!1&&(this.config.header=e.header||l.header)},r=function(){return this.$el.addClass("bc js-bc").append($("<div>").addClass("bc-head js-bc-head")).append($("<div>").addClass("bc-body js-bc-body")).append($("<div>").addClass("bc-foot js-bc-foot")),this.config.header&&(this.headView=new i(_.extend(this.config.header,{el:this.$el.find(".js-bc-head"),model:this.model})).render()),this.delegateEvents(),this},o=function(e){return this.headView&&this.headView.remove(),this.$el.html("").removeClass("bc js-bc"),e&&e.preventDefault(),this.undelegateEvents(),this.stopListening(),this},d={},s=t.View.extend({config:{},model:null,headView:null,initialize:a,render:r,remove:o,events:d}),t.Calendar=s});
//@ sourceMappingURL=backbone-calendar.map.js